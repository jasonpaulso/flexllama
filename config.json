{
  "auto_start_runners": true,
  "api": {
    "host": "0.0.0.0",
    "port": 8080,
    "health_endpoint": "/health"
  },
  "retry_config": {
    "max_retries": 3,
    "base_delay_seconds": 2,
    "max_delay_seconds": 30,
    "retry_on_model_loading": true
  },
  "runner1": {
    "type": "llama-server",
    "path": "/usr/local/bin/llama-server",
    "host": "0.0.0.0",
    "port": 8085,
    "extra_args": ["--verbose"]
  },
  "runner2": {
    "type": "llama-server",
    "path": "/usr/local/bin/llama-server",
    "host": "0.0.0.0",
    "port": 8086,
    "extra_args": ["--verbose"]
  },
  "runner3": {
    "type": "llama-server",
    "path": "/usr/local/bin/llama-server",
    "host": "0.0.0.0",
    "port": 8087,
    "extra_args": ["--verbose"]
  },
  "models": [
    {
      "runner": "runner1",
      "model": "/Volumes/Models/hf/Devstral-Small-2507-BF16.gguf",
      "model_alias": "Devstral-Small-2507-BF16",
      "n_ctx": 32768,
      "n_batch": 2048,
      "u_batch": 512,
      "n_threads": 24,
      "threads_batch": 28,
      "offload_kqv": true,
      "flash_attn": true,
      "use_mlock": true,
      "n_gpu_layers": -1,
      "mla_use": true,
      "cont_batch": true,
      "cache_type_k": "f16",
      "cache_type_v": "f16",
      "no_mmap": true,
      "mlock": true,
      "parallel": 4,
      "defrag_thold": 0.1,
      "log_format": "json"
    },
    {
      "runner": "runner2",
      "model": "/Volumes/Models/hf/Refact-1_6B-fim-Q8_0.gguf",
      "model_alias": "Refact-1_6B-fim-Q8_0",
      "n_ctx": 8192,
      "n_batch": 256,
      "n_threads": 8,
      "threads_batch": 28,
      "offload_kqv": true,
      "flash_attn": true,
      "use_mlock": true,
      "n_gpu_layers": -1,
      "mla_use": true,
      "cont_batch": true,
      "cache_type_k": "q8_0",
      "cache_type_v": "q8_0",
      "no_mmap": true,
      "mlock": true,
      "parallel": 4,
      "defrag_thold": 0.1,
      "log_format": "json"
    },
    {
      "runner": "runner3",
      "model": "/Volumes/Models/hf/jina-embeddings-v2-base-code-f16.gguf",
      "model_alias": "jina-embeddings-v2",
      "embedding": true,
      "n_ctx": 8192
    }
  ]
}
